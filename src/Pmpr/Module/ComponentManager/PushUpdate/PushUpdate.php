<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             6801061aa223e             |
    |_______________________________________|
*/
 namespace Pmpr\Module\ComponentManager\PushUpdate; use Exception; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\ComponentManager\Container; use Pmpr\Module\ComponentManager\Model\Component; use Pmpr\Module\DomainManager\Model\Domain; class PushUpdate extends Container { const waukmygusyyymgmy = 'domains'; public function wigskegsqequoeks() { $this->qcsmikeggeemccuu('admin_init', [$this, 'yeyiguyegmmyusea'])->qcsmikeggeemccuu(Process::oyouaagycauaqgkc, [$this, 'ciouacuqqgciiqqy'], 10, 2); } public function yeyiguyegmmyusea() { if ($this->caokeucsksukesyo()->owicscwgeuqcqaig()->awumyiewiaosiyyy()) { $ymqmyyeuycgmigyo = Component::symcgieuakksimmu()->cueaickeeoiwayou(); $this->aqaqisyssqeomwom("orm_show_{$ymqmyyeuycgmigyo}_actions", [$this, 'auwuouuaaecgmimc'], 99, 3); } } public function ciouacuqqgciiqqy($syqougokmmgaoaee, $oysoyeaucuawyaky) { try { $swgwkyqkakceqeia = Domain::symcgieuakksimmu(); $gcswwqwyaccgyoee = Component::symcgieuakksimmu(); foreach ($oysoyeaucuawyaky as $wqykqusigegasqeg) { $mokawwccycoiqeka = $swgwkyqkakceqeia->iekyeyicoyyawomk()->akkkoiiymmamsauc($wqykqusigegasqeg); $wksoawcgagcgoask = $gcswwqwyaccgyoee->iekyeyicoyyawomk()->akkkoiiymmamsauc($syqougokmmgaoaee); if ($mokawwccycoiqeka && $wksoawcgagcgoask) { $eeamcawaiqocomwy = $swgwkyqkakceqeia->waecsyqmwascmqoa($mokawwccycoiqeka, Constants::ciyoccqkiamemcmm); $mgegoogckgsumooq = $swgwkyqkakceqeia->waecsyqmwascmqoa($mokawwccycoiqeka, Constants::igswcauwsgmeougs); $this->caokeucsksukesyo()->giiecckwoyiawoyy()->uiuekemsiysicysc("https://{$eeamcawaiqocomwy}/wp-json/pmpr-ir/v1/api/push-update/", [Constants::cikssaguawsukusm => [Constants::sygmkaeayiiouiwm => $mgegoogckgsumooq, Constants::auugqowqueaocgsu => $gcswwqwyaccgyoee->waecsyqmwascmqoa($wksoawcgagcgoask, Constants::auugqowqueaocgsu), Constants::ocwsuwyiiasigqaa => $gcswwqwyaccgyoee->waecsyqmwascmqoa($wksoawcgagcgoask, Constants::NAME)]]); usleep(500000); } } } catch (Exception $wgaoewqkwgomoaai) { } } public function auwuouuaaecgmimc($ccowyogiqwikkkie, $aokagokqyuysuksm, $mksyucucyswaukig) { $meqocwsecsywiiqs = __('Push Update', PR__MDL__SALARY); $uuyucgkyusckoaeq = $this->caokeucsksukesyo()->wmkogisswkckmeua(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $eaoumsseceiowgsk = $uuyucgkyusckoaeq->ywoasuyoaicwqqsu([$uuyucgkyusckoaeq->mccagaqeagiikkec(self::waukmygusyyymgmy)->gswweykyogmsyawy(__('Domains', PR__MDL__SALARY))->ugquamoakekwyiqg(Domain::class)->oikgogcweiiaocka()->gucwmccyimoagwcm(__('Leave empty if you want push update to all domains.', PR__MDL__COMPONENT_MANAGER) . $swqimwqeweekeusq->ciuuiyckmsygceis(sprintf(__('This functionality just work for domains with %s status and %s permission.', PR__MDL__COMPONENT_MANAGER), __('Active', PR__MDL__COMPONENT_MANAGER), __('Allowed', PR__MDL__COMPONENT_MANAGER)))), $uuyucgkyusckoaeq->cwiuiiakukcsaakw(Constants::ocwsuwyiiasigqaa)->iygyugseyaqwywyg($aokagokqyuysuksm)], [Constants::gouqcwikiiygyasc => 'push_update']); $ccowyogiqwikkkie['push-update'] = $uuyucgkyusckoaeq->igiawkoqiogocsau([Constants::qescuiwgsyuikume => $meqocwsecsywiiqs, Constants::eoskkkieowogacws => $uuyucgkyusckoaeq->ueyuicgwuyuiioie(sprintf(__('Component version is %s.', PR__MDL__SALARY), $this->caokeucsksukesyo()->ywqgcuymeiswqyqc()->get($mksyucucyswaukig, Constants::auugqowqueaocgsu)), true, Constants::ecioqysekgaasegg), Constants::ssmskyqgcmeiayco => $eaoumsseceiowgsk, Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-orm-action btn btn-primary push-update', Constants::qescuiwgsyuikume => __('Submit', PR__MDL__SALARY)]]], $meqocwsecsywiiqs, ['class' => 'btn text-decoration-none btn-primary']); return $ccowyogiqwikkkie; } }
