/*! For license information please see multistep.JqjdCG-L4.js.LICENSE.txt */
!function(){const e=PRHelper.getHook(),t=PRHelper.getHTML(),r=PRHelper.getType(),n=PRHelper.getFormat(),a=PRHelper.getSetting();let i=t.getElement(".pr-multistep-wrap"),o=t.getElement('[name="order_request_domain"]');function s(){let e=!1,a=t.getValue('[name="order_request_domain"]');if(r.isEmpty(a))e="select_request_domain";else{let r=t.getElement(`[name="order_request_${a}"]`);if(t.isElement(r))switch(a){case"new_domain":(function(e){let t=!1,r="https://";if(n.isURL(r+e)){let n=e.match(/www\.(.*)$/);n&&void 0!==n[1]&&(e=n[1]),t=new URL(r+e).host}return t})(t.getValue(r))||(e="domain_is_not_valid");break;case"prev_domains":t.getValue(r)||(e="select_domain")}else e="request_domain_not_valid"}return e}t.isElement(o)&&e.on("change",(e=>{let r=t.getTarget(e),n=t.getElement("#order_request_new_domain"),a=t.getElement("#order_request_new_domain_title"),i=t.getElement("#order_request_prev_domains");switch(t.getValue(r)){case"new_domain":t.hide(t.getParent(i)),t.show(t.getParent(n)),t.show(t.getParent(a));break;case"prev_domains":t.hide(t.getParent(a)),t.hide(t.getParent(n)),t.show(t.getParent(i))}}),o),e.addFilter("multistep_can_goto_next_step",((e,n)=>{if(!0===e){let i=!1;switch(n.getCurrentStepName()){case"order_type":let e=t.getElement("[name=order_request_type]",n.getElement());r.isEmpty(t.getValue(e))&&(i="check_order_type");break;case"choice_domain":i=s()}i&&(e=a.getOption(`errors.${i}`,!1))}return e})),e.addAction(`multistep_form_${t.getAttribute(i,"id")}_submitted`,(async(e,t)=>{}))}();