/*! For license information please see admin.TDM50nHxd.js.LICENSE.txt */
!function(){const e=PRHelper.getHTML(),t=PRHelper.getHook(),n=PRHelper.getTool(),o=PRBackendHelper.getModal(),a=PRHelper.getRequest(),r=PRHelper.getSetting();t.bubbling("click",(t=>{const l=e.getTarget(t,"button"),s=o.getCurrent(),c=e.getElement(".pr-fieldset",e.getParent(l,".pr-modal-container"));s.showSpinner(),a.ajax(r.getOption("ajax.generate_serials_pdf")).addNonce().onSuccess((e=>{console.log(e)})).onError((e=>{s.showMessage(n.error2string(e))})).onFinally((()=>{s.hideSpinner()})).send(e.serializeForm(c))}),".generate-serials-pdf"),t.bubbling("click",(t=>{const l=e.getTarget(t,"button"),s=o.getCurrent(),c=e.getElement(".pr-fieldset",e.getParent(l,".pr-modal-container"));s.showSpinner(),a.ajax(r.getOption("ajax.installation_batch_creation")).addNonce().onSuccess((e=>{o.show({content:e,type:"success",onClose:()=>n.reload()})})).onError((e=>{s.showMessage(n.error2string(e))})).onFinally((()=>{s.hideSpinner()})).send(e.serializeForm(c))}),".installation-batch-creation"),t.bubbling("click",(t=>{t.preventDefault();const n=e.getTarget(t,"button"),o=e.getElement("input",e.getParent(n));e.isElement(o)&&e.setValue(o,function(){const e="ABCDEFGHJKMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<7;n++)t+=e[Math.floor(Math.random()*e.length)];return t}())}),"#generate_serial"),t.on("click",(t=>{t.preventDefault();const n=e.getTarget(t,".push-update"),l=e.serializeForm(e.getParent(n,".pr-modal")),s=r.getOption("ajax.push_update");s&&(o.close(o.getCurrent()),a.ajax(s).addNonce().send(l))}),".push-update"),t.on("click",(t=>{t.preventDefault();const n=e.getTarget(t,".update-component-action").data("id"),o=r.getOption("ajax.update_component");o&&a.ajax(o).addNonce().send({component:n})}),".update-component-action"),t.on("click",(e=>{e.preventDefault();const t=r.getOption("ajax.update_components");t&&a.ajax(t).addNonce().send()}),".update-components-action")}();