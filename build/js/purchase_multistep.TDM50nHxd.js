/*! For license information please see purchase_multistep.TDM50nHxd.js.LICENSE.txt */
!function(){const e=PRHelper.getHook(),t=PRHelper.getHTML(),n=PRHelper.getType(),r=PRHelper.getFormat(),i=PRHelper.getSetting(),a=t.getElement(".pr-multistep-wrap"),o=t.getAttribute(a,"id"),s=t.getElement('[name="order_request_domain"]');function _(){let e=!1,i=t.getValue('[name="order_request_domain"]');if(n.isEmpty(i))e="select_request_domain";else{const a=t.getValue("input#domain");if(n.isEmpty(a)){const n=t.getElement(`[name="order_request_${i}"]`);if(t.isElement(n))switch(i){case"new_domain":(function(e){let t=!1,n="https://";if(r.isURL(n+e)){let r=e.match(/www\.(.*)$/);r&&void 0!==r[1]&&(e=r[1]),t=new URL(n+e).host}return t})(t.getValue(n))||(e="domain_is_not_valid");break;case"prev_domains":t.getValue(n)||(e="select_domain")}else e="request_domain_not_valid"}}return e}t.isElement(s)&&e.on("change",(e=>{const n=t.getTarget(e),r=t.getElement("#order_request_new_domain"),i=t.getElement("#order_request_new_domain_title"),a=t.getElement("#order_request_prev_domains");switch(t.getValue(n)){case"new_domain":t.hide(t.getParent(a)),t.show(t.getParent(r)),t.show(t.getParent(i));break;case"prev_domains":t.hide(t.getParent(i)),t.hide(t.getParent(r)),t.show(t.getParent(a))}}),s),e.addFilter(`multistep_${o}_can_goto_next_step`,((e,r)=>{if(!0===e){let a=!1;switch(r.getCurrentStepName()){case"choice_ownership":let e=t.getElement("[name=order_request_type]",r.getElement());n.isEmpty(t.getValue(e))&&(a="check_order_type");break;case"choice_domain":a=_()}a&&(e=i.getOption(`errors.${a}`,!1))}return e}))}();